(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,r){e.exports=r(18)},15:function(e,t,r){},16:function(e,t,r){},18:function(e,t,r){"use strict";r.r(t);var a=r(5),n=r.n(a),i=r(0),s=r.n(i),c=(r(15),r(1)),d=r(2),o=r(8),l=r(6),u=r(9),h={BACK:["\ud83c\udca0"],SPADES:["\ud83c\udca1","\ud83c\udca2","\ud83c\udca3","\ud83c\udca4","\ud83c\udca5","\ud83c\udca6","\ud83c\udca7","\ud83c\udca8","\ud83c\udca9","\ud83c\udcaa","\ud83c\udcab","\ud83c\udcad","\ud83c\udcae"],HEARTS:["\ud83c\udcb1","\ud83c\udcb2","\ud83c\udcb3","\ud83c\udcb4","\ud83c\udcb5","\ud83c\udcb6","\ud83c\udcb7","\ud83c\udcb8","\ud83c\udcb9","\ud83c\udcba","\ud83c\udcbb","\ud83c\udcbd","\ud83c\udcbe"],DIAMONDS:["\ud83c\udcc1","\ud83c\udcc2","\ud83c\udcc3","\ud83c\udcc4","\ud83c\udcc5","\ud83c\udcc6","\ud83c\udcc7","\ud83c\udcc8","\ud83c\udcc9","\ud83c\udcca","\ud83c\udccb","\ud83c\udccd","\ud83c\udcce"],CLUBS:["\ud83c\udcd1","\ud83c\udcd2","\ud83c\udcd3","\ud83c\udcd4","\ud83c\udcd5","\ud83c\udcd6","\ud83c\udcd7","\ud83c\udcd8","\ud83c\udcd9","\ud83c\udcda","\ud83c\udcdb","\ud83c\udcdd","\ud83c\udcde"]},g=(r(16),["A","2","3","4","5","6","7","8","9","10","J","Q","K"]),v=["DIAMONDS","HEARTS","SPADES","CLUBS"],f=function(){function e(t,r){Object(c.a)(this,e),this.cardType=t,this.facingUp=!1,this.value=r,this.color="black","DIAMONDS"!==t&&"HEARTS"!==t||(this.color="red")}return Object(d.a)(e,[{key:"faceUp",value:function(){this.facingUp=!0}},{key:"isFacingDown",value:function(){return!this.facingUp}},{key:"isNextCard",value:function(e){return g.indexOf(e.value)-1===g.indexOf(this.value)}},{key:"isPreviousCard",value:function(e){return g.indexOf(e.value)+1===g.indexOf(this.value)}}]),e}(),C=r(7),y=function(){function e(){Object(c.a)(this,e),this.cards=[],this.fill()}return Object(d.a)(e,[{key:"fill",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=v[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var i=a.value,s=!0,c=!1,d=void 0;try{for(var o,l=g[Symbol.iterator]();!(s=(o=l.next()).done);s=!0){var u=o.value;this.cards.push(new f(i,u))}}catch(h){c=!0,d=h}finally{try{s||null==l.return||l.return()}finally{if(c)throw d}}}}catch(h){t=!0,r=h}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}this.cards=Object(C.shuffle)(this.cards)}},{key:"drawCard",value:function(){return this.cards.pop()}},{key:"getActiveCard",value:function(){return this.cards[this.cards.length-1]}},{key:"changeActiveCard",value:function(){var e=this.cards.pop();this.cards.unshift(e)}},{key:"takeCard",value:function(){var e=this.cards.pop();return e.faceUp(),e}}]),e}(),p=function(){function e(){Object(c.a)(this,e)}return Object(d.a)(e,[{key:"setCards",value:function(e){this.cards=e,this.cards[e.length-1].faceUp()}},{key:"addCards",value:function(e){var t=this.cards[this.cards.length-1],r=e[0];if(t){if(t.color===r.color)return!1;if(!t.isPreviousCard(r))return!1}else if("K"!=r.value)return!1;return this.cards=this.cards.concat(e),!0}},{key:"getCards",value:function(e){return this.cards.slice(e-1)}},{key:"takeCards",value:function(e){console.log(e);var t=this.cards.indexOf(e[0]);return 0!=t&&this.cards[t-1].faceUp(),this.cards.splice(t)}}]),e}(),k=function(){function e(){Object(c.a)(this,e),this.cards=[],this.cardsType=null}return Object(d.a)(e,[{key:"addCards",value:function(e){console.log(e);var t=e[0],r=this.cards[this.cards.length-1];return this.cardsType||(this.cardsType=t.cardType),!!this.sameType(e)&&(!(!r&&"A"!==t.value)&&(!(r&&!r.isNextCard(t))&&(this.cards=this.cards.concat(e),!0)))}},{key:"sameType",value:function(e){var t=this,r=e.filter(function(e){return e.cardType==t.cardsType});return e.length==r.length}},{key:"getCard",value:function(){return this.cards[this.cards.length-1]}},{key:"takeCard",value:function(){var e=this.cards.pop();return e.faceUp(),e}}]),e}(),D=function(){function e(){Object(c.a)(this,e),this.piles=[],this.reservedDecks=[]}return Object(d.a)(e,[{key:"setup",value:function(){return this.deck=new y,this.setPiles(),this.setReservedDecks(),this}},{key:"setReservedDecks",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=v[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var i=a.value;this.reservedDecks.push(new k(i))}}catch(s){t=!0,r=s}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}}},{key:"setPiles",value:function(){for(var e=1;e<=7;e++){for(var t=new p,r=[],a=1;a<=e;a++)r.push(this.deck.drawCard());t.setCards(r),this.piles.push(t)}}}]),e}(),m=8,b=19;function S(e){var t=e.color||"black",r=e.top||0,a=e.height||b,n=e.className||"";r+="vh",a+="vh";var i=void 0===e.draggable||!0===e.draggable;return s.a.createElement("div",{className:"card "+n,draggable:i,onDragStart:e.onDragStart,onClick:e.onClick,style:{color:t,top:r,height:a},id:e.id},e.Unicode)}var E=function(e,t,r,a){var n=a.top,i=a.height,c=h.BACK[0],d=!1,o="black";return e.isFacingDown()||(c=A(e),d=!0,o=e.color),s.a.createElement(S,{Unicode:c,color:o,className:"pile-card",id:r,key:r,top:n,onDragStart:t,draggable:d,height:i})};function O(e){var t=0,r=-m,a=e.cards.length*m+b;return s.a.createElement("div",{className:"pile",id:e.id,onDragOver:function(e){return e.preventDefault()},onDrop:e.onCardDrop},e.cards.map(function(n){return r+=m,a-=m,t++,E(n,e.onCardDragStart,t,{top:r,height:a})}))}function w(e){var t=1,r="";return e.card&&(r=s.a.createElement(S,{Unicode:A(e.card),onDragStart:e.onCardDragStart,color:e.card.color,key:t++})),s.a.createElement("div",{className:"reserved-deck",onDragOver:function(e){return e.preventDefault()},onDrop:e.onCardDrop,id:e.id},r)}function A(e){var t=g.indexOf(e.value);return h[e.cardType][t]}var j=function(e){function t(e){var r;return Object(c.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).state=new D,r.state.setup(),r.draggingCardContainer=null,r.draggingCards=[],r}return Object(u.a)(t,e),Object(d.a)(t,[{key:"cardDragStart",value:function(e){var t=e.currentTarget.parentElement,r=t.parentElement.id;if("deck"===r)return this.draggingCardContainer=this.state[r],void(this.draggingCards=[this.draggingCardContainer.getActiveCard()]);this.draggingCardContainer=this.state[r][t.id-1];var a=e.currentTarget.id;this.draggingCardContainer.getCard?this.draggingCards=[this.draggingCardContainer.getCard()]:this.draggingCards=this.draggingCardContainer.getCards(a)}},{key:"cardDrop",value:function(e){var t=e.currentTarget,r=t.parentElement.id;this.state[r][t.id-1].addCards(this.draggingCards)&&(this.draggingCardContainer.takeCards&&this.draggingCardContainer.takeCards(this.draggingCards),this.draggingCardContainer.takeCard&&this.draggingCardContainer.takeCard(this.draggingCards[0]),this.setState(this.state))}},{key:"changeActiveCard",value:function(){this.state.deck.changeActiveCard(),this.setState(this.state)}},{key:"generateReservedDeckDivs",value:function(){var e=[],t=1,r=!0,a=!1,n=void 0;try{for(var i,c=this.state.reservedDecks[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var d=i.value,o=s.a.createElement(w,{card:d.getCard(),id:t,key:t++,onCardDrop:this.cardDrop.bind(this),onCardDragStart:this.cardDragStart.bind(this)});e.push(o)}}catch(l){a=!0,n=l}finally{try{r||null==c.return||c.return()}finally{if(a)throw n}}return e}},{key:"generatePileDivs",value:function(){var e=[],t=1,r=!0,a=!1,n=void 0;try{for(var i,c=this.state.piles[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var d=i.value,o=s.a.createElement(O,{cards:d.cards,id:t,key:t++,onCardDragStart:this.cardDragStart.bind(this),onCardDrop:this.cardDrop.bind(this)});e.push(o)}}catch(l){a=!0,n=l}finally{try{r||null==c.return||c.return()}finally{if(a)throw n}}return e}},{key:"render",value:function(){var e=this.state.deck.getActiveCard(),t=this.generateReservedDeckDivs(),r=this.generatePileDivs();return s.a.createElement("div",{className:"game"},s.a.createElement("div",{className:"horizontal-layer"},s.a.createElement("div",{className:"deck",id:"deck"},s.a.createElement("div",null,s.a.createElement(S,{Unicode:h.BACK[0],draggable:!1,onClick:this.changeActiveCard.bind(this),key:"1"})),s.a.createElement("div",null,s.a.createElement(S,{Unicode:A(e),draggable:!0,color:e.color,onDragStart:this.cardDragStart.bind(this),key:"2"}))),s.a.createElement("div",{className:"deck",id:"reservedDecks"},t)),s.a.createElement("div",{className:"horizontal-layer tableau"},s.a.createElement("div",{className:"piles",id:"piles"},r)))}}]),t}(s.a.Component);n.a.render(s.a.createElement(j,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.68caba82.chunk.js.map