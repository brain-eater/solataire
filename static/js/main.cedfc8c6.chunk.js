(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,r){e.exports=r(18)},15:function(e,t,r){},16:function(e,t,r){},18:function(e,t,r){"use strict";r.r(t);var a=r(5),n=r.n(a),i=r(0),c=r.n(i),s=(r(15),r(1)),o=r(2),l=r(8),d=r(6),u=r(9),h={BACK:["\ud83c\udca0"],SPADES:["\ud83c\udca1","\ud83c\udca2","\ud83c\udca3","\ud83c\udca4","\ud83c\udca5","\ud83c\udca6","\ud83c\udca7","\ud83c\udca8","\ud83c\udca9","\ud83c\udcaa","\ud83c\udcab","\ud83c\udcad","\ud83c\udcae"],HEARTS:["\ud83c\udcb1","\ud83c\udcb2","\ud83c\udcb3","\ud83c\udcb4","\ud83c\udcb5","\ud83c\udcb6","\ud83c\udcb7","\ud83c\udcb8","\ud83c\udcb9","\ud83c\udcba","\ud83c\udcbb","\ud83c\udcbd","\ud83c\udcbe"],DIAMONDS:["\ud83c\udcc1","\ud83c\udcc2","\ud83c\udcc3","\ud83c\udcc4","\ud83c\udcc5","\ud83c\udcc6","\ud83c\udcc7","\ud83c\udcc8","\ud83c\udcc9","\ud83c\udcca","\ud83c\udccb","\ud83c\udccd","\ud83c\udcce"],CLUBS:["\ud83c\udcd1","\ud83c\udcd2","\ud83c\udcd3","\ud83c\udcd4","\ud83c\udcd5","\ud83c\udcd6","\ud83c\udcd7","\ud83c\udcd8","\ud83c\udcd9","\ud83c\udcda","\ud83c\udcdb","\ud83c\udcdd","\ud83c\udcde"]},v=(r(16),["A","2","3","4","5","6","7","8","9","10","J","Q","K"]),f=["DIAMONDS","HEARTS","SPADES","CLUBS"],g=function(){function e(t,r){Object(s.a)(this,e),this.cardType=t,this.facingUp=!1,this.value=r,this.color="black","DIAMONDS"!==t&&"HEARTS"!==t||(this.color="red")}return Object(o.a)(e,[{key:"faceUp",value:function(){this.facingUp=!0}},{key:"isFacingDown",value:function(){return!this.facingUp}},{key:"isNextCard",value:function(e){return v.indexOf(e.value)-1===v.indexOf(this.value)}},{key:"isPreviousCard",value:function(e){console.log(v);var t=v.indexOf(e.value),r=v.indexOf(this.value);return console.log(r),console.log(t),t+1===r}}]),e}(),p=r(7),y=function(){function e(){Object(s.a)(this,e),this.cards=[],this.fill()}return Object(o.a)(e,[{key:"fill",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=f[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var i=a.value,c=!0,s=!1,o=void 0;try{for(var l,d=v[Symbol.iterator]();!(c=(l=d.next()).done);c=!0){var u=l.value;this.cards.push(new g(i,u))}}catch(h){s=!0,o=h}finally{try{c||null==d.return||d.return()}finally{if(s)throw o}}}}catch(h){t=!0,r=h}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}this.cards=Object(p.shuffle)(this.cards)}},{key:"drawCard",value:function(){return this.cards.pop()}},{key:"getActiveCard",value:function(){return this.cards[this.cards.length-1]}},{key:"changeActiveCard",value:function(){var e=this.cards.pop();this.cards.unshift(e)}},{key:"takeCard",value:function(){return this.cards.pop()}}]),e}(),k=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,[{key:"setCards",value:function(e){this.cards=e,this.cards[e.length-1].faceUp()}},{key:"addCard",value:function(e){var t=this.cards[this.cards.length-1];return console.log(t,e),t.color!==e.color&&(!!t.isPreviousCard(e)&&(this.cards.push(e),!0))}},{key:"getActiveCard",value:function(){return this.cards[this.cards.length-1]}},{key:"takeCard",value:function(){return this.cards.length>1&&this.cards[this.cards.length-2].faceUp(),this.cards.pop()}}]),e}(),C=function(){function e(){Object(s.a)(this,e),this.cards=[],this.cardsType=null}return Object(o.a)(e,[{key:"addCard",value:function(e){var t=this.cards[this.cards.length-1];return!(!t&&"A"!==e.value)&&((!this.cardsType||this.cardsType===e.cardType)&&(console.log(t),!(t&&!t.isNextCard(e))&&(this.cardsType=e.cardType,this.cards.push(e),!0)))}},{key:"getActiveCard",value:function(){return this.cards[this.cards.length-1]}},{key:"takeCard",value:function(){return this.cards.pop()}}]),e}(),D=function(){function e(){Object(s.a)(this,e),this.piles=[],this.reservedDecks=[]}return Object(o.a)(e,[{key:"setup",value:function(){return this.deck=new y,this.setPiles(),this.setReservedDecks(),this}},{key:"setReservedDecks",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=f[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var i=a.value;this.reservedDecks.push(new C(i))}}catch(c){t=!0,r=c}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}}},{key:"setPiles",value:function(){for(var e=1;e<=7;e++){for(var t=new k,r=[],a=1;a<=e;a++)r.push(this.deck.drawCard());t.setCards(r),this.piles.push(t)}}}]),e}(),m=8,b=19;function S(e){var t=e.color||"black",r=e.top||0,a=e.height||b,n=e.className||"";r+="vh",a+="vh";var i=void 0===e.draggable||!0===e.draggable;return c.a.createElement("div",{className:"card "+n,draggable:i,onDragStart:e.onDragStart,onClick:e.onClick,style:{color:t,top:r,height:a}},e.Unicode)}var E=function(e,t,r,a){var n=a.top,i=a.height,s=h.BACK[0],o=!1,l="black";return e.isFacingDown()||(s=w(e),o=!0,l=e.color),c.a.createElement(S,{Unicode:s,color:l,className:"pile-card",key:r++,top:n,onDragStart:t,draggable:o,height:i})};function O(e){var t=-m,r=e.cards.length*m+b;return c.a.createElement("div",{className:"pile",id:e.id,onDragOver:function(e){return e.preventDefault()},onDrop:e.onCardDrop},e.cards.map(function(a){return t+=m,r-=m,E(a,e.onCardDragStart,1,{top:t,height:r})}))}function A(e){var t=1;return c.a.createElement("div",{className:"reserved-deck",onDragOver:function(e){return e.preventDefault()},onDrop:e.onCardDrop,id:e.id},e.cards.map(function(r){return c.a.createElement(S,{Unicode:w(r),onDragStart:e.onCardDragStart,color:r.color,key:t++})}))}function w(e){var t=v.indexOf(e.value);return h[e.cardType][t]}var j=function(e){function t(e){var r;return Object(s.a)(this,t),(r=Object(l.a)(this,Object(d.a)(t).call(this,e))).state=new D,r.state.setup(),r.draggingCardContainer=null,r}return Object(u.a)(t,e),Object(o.a)(t,[{key:"cardDragStart",value:function(e){var t=e.currentTarget.parentElement,r=t.parentElement.id;this.draggingCardContainer="deck"!==r?this.state[r][t.id-1]:this.state[r]}},{key:"cardDrop",value:function(e){var t=e.currentTarget,r=t.parentElement.id;this.state[r][t.id-1].addCard(this.draggingCardContainer.getActiveCard())&&(this.draggingCardContainer.takeCard().faceUp(),this.setState(this.state))}},{key:"changeActiveCard",value:function(){this.state.deck.changeActiveCard(),this.setState(this.state)}},{key:"generateReservedDeckDivs",value:function(){var e=[],t=1,r=!0,a=!1,n=void 0;try{for(var i,s=this.state.reservedDecks[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value,l=c.a.createElement(A,{cards:o.cards,id:t,key:t++,onCardDrop:this.cardDrop.bind(this),onCardDragStart:this.cardDragStart.bind(this)});e.push(l)}}catch(d){a=!0,n=d}finally{try{r||null==s.return||s.return()}finally{if(a)throw n}}return e}},{key:"generatePileDivs",value:function(){var e=[],t=1,r=!0,a=!1,n=void 0;try{for(var i,s=this.state.piles[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value,l=c.a.createElement(O,{cards:o.cards,id:t,key:t++,onCardDragStart:this.cardDragStart.bind(this),onCardDrop:this.cardDrop.bind(this)});e.push(l)}}catch(d){a=!0,n=d}finally{try{r||null==s.return||s.return()}finally{if(a)throw n}}return e}},{key:"render",value:function(){var e=this.state.deck.getActiveCard(),t=this.generateReservedDeckDivs(),r=this.generatePileDivs();return c.a.createElement("div",{className:"game"},c.a.createElement("div",{className:"horizontal-layer"},c.a.createElement("div",{className:"deck",id:"deck"},c.a.createElement("div",null,c.a.createElement(S,{Unicode:h.BACK[0],draggable:!1,onClick:this.changeActiveCard.bind(this),key:"1"})),c.a.createElement("div",null,c.a.createElement(S,{Unicode:w(e),draggable:!0,color:e.color,onDragStart:this.cardDragStart.bind(this),key:"2"}))),c.a.createElement("div",{className:"deck",id:"reservedDecks"},t)),c.a.createElement("div",{className:"horizontal-layer tableau"},c.a.createElement("div",{className:"piles",id:"piles"},r)))}}]),t}(c.a.Component);n.a.render(c.a.createElement(j,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.cedfc8c6.chunk.js.map