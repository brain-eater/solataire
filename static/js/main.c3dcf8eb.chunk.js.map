{"version":3,"sources":["cardUnicodes.js","model/constants.js","model/card.js","model/deck.js","model/pile.js","model/ReservedDeck.js","model/game.js","game.js","index.js"],"names":["CARDS","BACK","SPADES","HEARTS","DIAMONDS","CLUBS","cardValues","cardTypes","Card","cardType","value","Object","classCallCheck","this","facingUp","color","card","indexOf","Deck","cards","fill","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","push","err","return","shuffle","pop","length","activeCard","unshift","faceUp","Pile","lastCard","firstCard","isPreviousCard","concat","startingCardNo","slice","startingCard","startingCardIndex","splice","ReservedDeck","cardsType","sameType","isNextCard","_this","sameTypeCards","filter","Game","piles","reservedDecks","deck","setPiles","setReservedDecks","pileNo","pile","cardNo","drawCard","setCards","GAP_BETWEEN_CARD_OVERLAP","CARD_HEIGHT","props","top","height","className","draggable","react_default","a","createElement","onDrag","onCardDrag","onDragStart","onClick","onDoubleClick","style","id","Unicode","createPileCard","onCardDragStart","onCardDoubleClick","key","_ref","unicode","cardUnicodes","isFacingDown","getUnicode","game_Card","onDragOver","de","preventDefault","onDrop","onCardDrop","map","cardElement","GameComponent","possibleConstructorReturn","getPrototypeOf","call","state","setup","draggingCardContainer","draggingCards","dragEvent","containerDiv","currentTarget","parentElement","containerCategory","getActiveCard","draggingCardNo","getCards","droppingContainerDiv","droppingContainerCategory","addCards","takeCards","setState","event","getLastCard","isPlaced","changeActiveCard","reservedDeckDivs","reservedDeck","div","game_ReservedDeck","cardDrop","bind","cardDragStart","pileDivs","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","game_Pile","handleDoubleClick","generateReservedDeckDivs","generatePileDivs","React","Component","cardValue","ReactDOM","render","src_game","document","getElementById"],"mappings":"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","file":"static/js/main.c3dcf8eb.chunk.js","sourcesContent":["const CARDS = {\n  BACK: [\"\\uD83C\\uDCA0\"],\n  SPADES: [\n    \"\\u{1F0A1}\",\n    \"\\u{1F0A2}\",\n    \"\\u{1F0A3}\",\n    \"\\u{1F0A4}\",\n    \"\\u{1F0A5}\",\n    \"\\u{1F0A6}\",\n    \"\\u{1F0A7}\",\n    \"\\u{1F0A8}\",\n    \"\\u{1F0A9}\",\n    \"\\u{1F0AA}\",\n    \"\\u{1F0AB}\",\n    \"\\u{1F0AD}\",\n    \"\\u{1F0AE}\"\n  ],\n  HEARTS: [\n    \"\\u{1F0B1}\",\n    \"\\u{1F0B2}\",\n    \"\\u{1F0B3}\",\n    \"\\u{1F0B4}\",\n    \"\\u{1F0B5}\",\n    \"\\u{1F0B6}\",\n    \"\\u{1F0B7}\",\n    \"\\u{1F0B8}\",\n    \"\\u{1F0B9}\",\n    \"\\u{1F0BA}\",\n    \"\\u{1F0BB}\",\n    \"\\u{1F0BD}\",\n    \"\\u{1F0BE}\"\n  ],\n  DIAMONDS: [\n    \"\\u{1F0C1}\",\n    \"\\u{1F0C2}\",\n    \"\\u{1F0C3}\",\n    \"\\u{1F0C4}\",\n    \"\\u{1F0C5}\",\n    \"\\u{1F0C6}\",\n    \"\\u{1F0C7}\",\n    \"\\u{1F0C8}\",\n    \"\\u{1F0C9}\",\n    \"\\u{1F0CA}\",\n    \"\\u{1F0CB}\",\n    \"\\u{1F0CD}\",\n    \"\\u{1F0CE}\"\n  ],\n  CLUBS: [\n    \"\\u{1F0D1}\",\n    \"\\u{1F0D2}\",\n    \"\\u{1F0D3}\",\n    \"\\u{1F0D4}\",\n    \"\\u{1F0D5}\",\n    \"\\u{1F0D6}\",\n    \"\\u{1F0D7}\",\n    \"\\u{1F0D8}\",\n    \"\\u{1F0D9}\",\n    \"\\u{1F0DA}\",\n    \"\\u{1F0DB}\",\n    \"\\u{1F0DD}\",\n    \"\\u{1F0DE}\"\n  ]\n};\n\nexport default CARDS;\n","const cardValues = [\n  \"A\",\n  \"2\",\n  \"3\",\n  \"4\",\n  \"5\",\n  \"6\",\n  \"7\",\n  \"8\",\n  \"9\",\n  \"10\",\n  \"J\",\n  \"Q\",\n  \"K\"\n];\nconst cardTypes = [\"DIAMONDS\", \"HEARTS\", \"SPADES\", \"CLUBS\"];\n\nexport { cardTypes, cardValues };\n","import { cardValues } from \"./constants\";\n\nclass Card {\n  constructor(cardType, value) {\n    this.cardType = cardType;\n    this.facingUp = false;\n    this.value = value;\n    this.color = \"black\";\n    if (cardType === \"DIAMONDS\" || cardType === \"HEARTS\") this.color = \"red\";\n  }\n\n  faceUp() {\n    this.facingUp = true;\n  }\n\n  isFacingDown() {\n    return !this.facingUp;\n  }\n\n  isNextCard(card) {\n    const cardIndex = cardValues.indexOf(card.value);\n    const thisIndex = cardValues.indexOf(this.value);\n    return cardIndex - 1 === thisIndex;\n  }\n\n  isPreviousCard(card) {\n    const cardIndex = cardValues.indexOf(card.value);\n    const thisIndex = cardValues.indexOf(this.value);\n    return cardIndex + 1 === thisIndex;\n  }\n}\n\nexport default Card;\n","import { cardTypes, cardValues } from \"./constants\";\nimport Card from \"./card\";\nimport { shuffle } from \"lodash\";\n\nclass Deck {\n  constructor() {\n    this.cards = [];\n    this.fill();\n  }\n\n  fill() {\n    for (let cardType of cardTypes) {\n      for (let value of cardValues) {\n        this.cards.push(new Card(cardType, value));\n      }\n    }\n    this.cards = shuffle(this.cards);\n  }\n\n  drawCard() {\n    return this.cards.pop();\n  }\n\n  getActiveCard() {\n    return this.cards[this.cards.length - 1];\n  }\n\n  changeActiveCard() {\n    let activeCard = this.cards.pop();\n    this.cards.unshift(activeCard);\n  }\n\n  takeCards() {\n    let card = this.cards.pop();\n    card.faceUp();\n    return [card];\n  }\n}\n\nexport default Deck;\n","class Pile {\n  setCards(cards) {\n    this.cards = cards;\n    const lastCard = this.cards[cards.length - 1];\n    lastCard.faceUp();\n  }\n\n  addCards(cards) {\n    const lastCard = this.cards[this.cards.length - 1];\n    const firstCard = cards[0];\n    if (lastCard) {\n      if (lastCard.color === firstCard.color) return false;\n      if (!lastCard.isPreviousCard(firstCard)) return false;\n    } else if (firstCard.value != \"K\") {\n      return false;\n    }\n    this.cards = this.cards.concat(cards);\n    return true;\n  }\n\n  getCards(startingCardNo) {\n    return this.cards.slice(startingCardNo - 1);\n  }\n\n  getLastCard() {\n    return this.cards[this.cards.length - 1];\n  }\n\n  takeCards(startingCard) {\n    let startingCardIndex = this.cards.indexOf(startingCard);\n    if (startingCardIndex != 0) {\n      this.cards[startingCardIndex - 1].faceUp();\n    }\n    return this.cards.splice(startingCardIndex);\n  }\n}\nexport default Pile;\n","class ReservedDeck {\n  constructor() {\n    this.cards = [];\n    this.cardsType = null;\n  }\n\n  addCards(cards) {\n    let startingCard = cards[0];\n    let lastCard = this.cards[this.cards.length - 1];\n    if (!this.cardsType) this.cardsType = startingCard.cardType;\n    if (!this.sameType(cards)) return false;\n    if (!lastCard && startingCard.value !== \"A\") return false;\n    if (lastCard && !lastCard.isNextCard(startingCard)) return false;\n    this.cards = this.cards.concat(cards);\n    return true;\n  }\n\n  sameType(cards) {\n    const sameTypeCards = cards.filter(card => card.cardType == this.cardsType);\n    return cards.length === sameTypeCards.length;\n  }\n\n  getCards() {\n    return [this.cards[this.cards.length - 1]];\n  }\n\n  takeCards() {\n    let card = this.cards.pop();\n    card.faceUp();\n    if (this.cards.length === 0) this.cardsType = null;\n    return [card];\n  }\n}\n\nexport default ReservedDeck;\n","import Deck from \"./deck\";\nimport Pile from \"./pile\";\nimport ReservedDeck from \"./ReservedDeck\";\nimport { cardTypes } from \"./constants\";\n\nclass Game {\n  constructor() {\n    this.piles = [];\n    this.reservedDecks = [];\n  }\n\n  setup() {\n    this.deck = new Deck();\n    this.setPiles();\n    this.setReservedDecks();\n    return this;\n  }\n\n  setReservedDecks() {\n    for (let cardType of cardTypes) {\n      this.reservedDecks.push(new ReservedDeck(cardType));\n    }\n  }\n\n  setPiles() {\n    for (let pileNo = 1; pileNo <= 7; pileNo++) {\n      let pile = new Pile();\n      let cards = [];\n      for (let cardNo = 1; cardNo <= pileNo; cardNo++) {\n        cards.push(this.deck.drawCard());\n      }\n      pile.setCards(cards);\n      this.piles.push(pile);\n    }\n  }\n}\n\nexport default Game;\n","import cardUnicodes from \"./cardUnicodes.js\";\nimport React from \"react\";\n\nimport \"./game.css\";\n\nimport Game from \"./model/game\";\nimport { cardValues } from \"./model/constants.js\";\n\nconst GAP_BETWEEN_CARD_OVERLAP = 8;\nconst CARD_HEIGHT = 19;\n\nfunction Card(props) {\n  let color = props.color || \"black\";\n  let top = props.top || 0;\n  let height = props.height || CARD_HEIGHT;\n  let className = props.className || \"\";\n  top += \"vh\";\n  height += \"vh\";\n  let draggable = props.draggable === undefined || props.draggable === true;\n\n  return (\n    <div\n      className={\"card \" + className}\n      draggable={draggable}\n      onDrag={props.onCardDrag}\n      onDragStart={props.onDragStart}\n      onClick={props.onClick}\n      onDoubleClick={props.onDoubleClick}\n      style={{ color, top, height }}\n      id={props.id}\n    >\n      {props.Unicode}\n    </div>\n  );\n}\n\nconst createPileCard = function(\n  card,\n  onCardDragStart,\n  onCardDoubleClick,\n  key,\n  { top, height }\n) {\n  let unicode = cardUnicodes[\"BACK\"][0];\n  let draggable = false;\n  let color = \"black\";\n  if (!card.isFacingDown()) {\n    unicode = getUnicode(card);\n    draggable = true;\n    color = card.color;\n  }\n  return (\n    <Card\n      Unicode={unicode}\n      color={color}\n      className=\"pile-card\"\n      id={key}\n      key={key}\n      top={top}\n      onDragStart={onCardDragStart}\n      onDoubleClick={onCardDoubleClick}\n      draggable={draggable}\n      height={height}\n    />\n  );\n};\n\nfunction Pile(props) {\n  let key = 0;\n  let top = -GAP_BETWEEN_CARD_OVERLAP;\n  let height = props.cards.length * GAP_BETWEEN_CARD_OVERLAP + CARD_HEIGHT;\n  let { onCardDragStart, onCardDoubleClick } = props;\n  return (\n    <div\n      className=\"pile\"\n      id={props.id}\n      onDragOver={de => de.preventDefault()}\n      onDrop={props.onCardDrop}\n    >\n      {props.cards.map(card => {\n        top += GAP_BETWEEN_CARD_OVERLAP;\n        height -= GAP_BETWEEN_CARD_OVERLAP;\n        key++;\n        return createPileCard(card, onCardDragStart, onCardDoubleClick, key, {\n          top,\n          height\n        });\n      })}\n    </div>\n  );\n}\n\nfunction ReservedDeck(props) {\n  let key = 1;\n  let cardElement = \"\";\n  if (props.card) {\n    cardElement = (\n      <Card\n        Unicode={getUnicode(props.card)}\n        onDragStart={props.onCardDragStart}\n        color={props.card.color}\n        key={key++}\n      />\n    );\n  }\n  return (\n    <div\n      className=\"reserved-deck card-holder\"\n      onDragOver={de => de.preventDefault()}\n      onDrop={props.onCardDrop}\n      id={props.id}\n    >\n      {cardElement}\n    </div>\n  );\n}\n\nclass GameComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = new Game();\n    this.state.setup();\n    this.draggingCardContainer = null;\n    this.draggingCards = [];\n  }\n\n  cardDragStart(dragEvent) {\n    const containerDiv = dragEvent.currentTarget.parentElement;\n    const containerCategory = containerDiv.parentElement.id;\n    if (containerCategory === \"deck\") {\n      this.draggingCardContainer = this.state[containerCategory];\n      this.draggingCards = [this.draggingCardContainer.getActiveCard()];\n      return;\n    }\n    this.draggingCardContainer = this.state[containerCategory][\n      containerDiv.id - 1\n    ];\n    let draggingCardNo = dragEvent.currentTarget.id;\n    this.draggingCards = this.draggingCardContainer.getCards(draggingCardNo);\n  }\n\n  cardDrop(dragEvent) {\n    const droppingContainerDiv = dragEvent.currentTarget;\n    const droppingContainerCategory = droppingContainerDiv.parentElement.id;\n    const dropingContainer = this.state[droppingContainerCategory][\n      droppingContainerDiv.id - 1\n    ];\n    const isDropped = dropingContainer.addCards(this.draggingCards);\n    if (isDropped) {\n      this.draggingCardContainer.takeCards(this.draggingCards[0]);\n      this.setState(this.state);\n    }\n  }\n\n  handleDoubleClick(event) {\n    let pileNo = event.currentTarget.parentElement.id;\n    let card = this.state.piles[pileNo - 1].getLastCard();\n    let isPlaced = false;\n    for (let reservedDeck of this.state.reservedDecks) {\n      if (reservedDeck.addCards([card])) {\n        isPlaced = true;\n        break;\n      }\n    }\n    if (!isPlaced) return;\n    this.state.piles[pileNo - 1].takeCards(card);\n    this.setState(this.state);\n  }\n\n  changeActiveCard() {\n    this.state.deck.changeActiveCard();\n    this.setState(this.state);\n  }\n\n  generateReservedDeckDivs() {\n    let reservedDeckDivs = [];\n    let key = 1;\n    for (let reservedDeck of this.state.reservedDecks) {\n      let div = (\n        <ReservedDeck\n          card={reservedDeck.getCards()[0]}\n          id={key}\n          key={key++}\n          onCardDrop={this.cardDrop.bind(this)}\n          onCardDragStart={this.cardDragStart.bind(this)}\n        />\n      );\n      reservedDeckDivs.push(div);\n    }\n    return reservedDeckDivs;\n  }\n\n  generatePileDivs() {\n    let pileDivs = [];\n    let key = 1;\n    for (let pile of this.state.piles) {\n      let div = (\n        <Pile\n          cards={pile.cards}\n          id={key}\n          onCardDoubleClick={this.handleDoubleClick.bind(this)}\n          key={key++}\n          onCardDragStart={this.cardDragStart.bind(this)}\n          onCardDrop={this.cardDrop.bind(this)}\n        />\n      );\n      pileDivs.push(div);\n    }\n    return pileDivs;\n  }\n\n  render() {\n    let activeCard = this.state.deck.getActiveCard();\n\n    let reservedDeckDivs = this.generateReservedDeckDivs();\n    let pileDivs = this.generatePileDivs();\n    return (\n      <div className=\"game\">\n        <div className=\"foundation\">\n          <div className=\"deck\" id=\"deck\">\n            <div className=\"deck-cards card-holder\">\n              <Card\n                Unicode={cardUnicodes[\"BACK\"][0]}\n                draggable={false}\n                onClick={this.changeActiveCard.bind(this)}\n                key=\"1\"\n              />\n            </div>\n            <div className=\"card-holder\">\n              <Card\n                Unicode={getUnicode(activeCard)}\n                draggable={true}\n                color={activeCard.color}\n                onDragStart={this.cardDragStart.bind(this)}\n                key=\"2\"\n              />\n            </div>\n          </div>\n\n          <div className=\"deck reservedDecks\" id=\"reservedDecks\">\n            {reservedDeckDivs}\n          </div>\n        </div>\n\n        <div className=\" tableau\">\n          <div className=\"piles\" id=\"piles\">\n            {pileDivs}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nfunction getUnicode(card) {\n  let cardValue = cardValues.indexOf(card.value);\n  let cardUnicode = cardUnicodes[card.cardType][cardValue];\n  return cardUnicode;\n}\n\nclass MouseDrag {\n  constructor() {\n    this.isDragging = false;\n  }\n\n  onMouseUp(mouseEvent) {\n    this.isDragging = false;\n  }\n\n  onMouseDown(mouseEvent) {\n    this.isDragging = true;\n  }\n\n  onMouseMove(mouseEvent) {\n    let dif;\n  }\n}\n\nexport default GameComponent;\n","import ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport \"./index.css\";\nimport GameComponent from \"./game.js\";\n\nReactDOM.render(<GameComponent />, document.getElementById(\"root\"));\n"],"sourceRoot":""}